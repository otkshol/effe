# 可変性を最小限にする

（項目2の復習時点なので不変性の５つの要件と4/26時点の理解を書き出す）

## 不変性に必要な5つの要件

1. **オブジェクトの状態を変更するためのメソッドを提供しない**
    - オブジェクト状態を変更するメソッドをミューテーターと呼ぶ(*mutator*)
    - 具体的には`setter`メソッドとか？
2. **クラスを拡張できないようにする**
    - 拡張可能にすると子クラスで可変にできるので不変性が保証できない
3. **すべてのフィールドをfinalにする**
    - フィールドを再代入不可にすることで不変性の1要件になる
4. **すべてのフィールドをprivateにする**
    - 外部クラスからのフィールドへのアクセスを不可にすることで不変性の1要件になる
5. **可変コンポーネントに対する独占的アクセスを保証する**
    - 外部からアクセスできないように、メソッドの内部でインスタンス生成することで[防御的コピー](https://github.com/otkshol/effe/blob/master/effe/Chapter08/Item50.md)を行う（ちょっと理解怪しいです...）

---